<div flex="grow" layout="column" layout-align="center center" ng-controller="RepositoryController as vm"
     ng-init="vm.currentCommit=0">

  <!-- Loading indicator-->
  <div ng-if="vm.commits.length==0" layout="column" layout-align="center center">
    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
  </div>
  <!--<md-subheader>{{vm.repoName}}</md-subheader>-->
  <div ng-repeat="commit in vm.commits" ng-if="vm.commits.length>0&&$index==vm.currentCommit"
       layout-padding layout="column" layout-align="center center">

    <!-- Commit message -->
    <pre layout-padding class="dash-widget-font capitalize"
     style="white-space:pre-wrap;word-break:break-word;min-height:3em; margin:0; font-size: large">{{commit.commit.message}}</pre>

    <!-- Author section -->
    <div class="dash-widget-text" layout layout-padding>
      <img style="height: 4em; width: 4em;" src={{commit.author.avatar_url}}>
      <span layout="column" layout-align="start start">
        <b>Author:
          <span class="dash-widget-font">{{commit.author.login}}</span>
        </b>
        <b>Date:</b> {{commit.commit.author.date}}
      </span>
      <!--<span>Files modified: coming soon</span>-->
    </div>
  </div>

  <!-- Arrow Buttons -->
  <!-- ng-hide/show to hide buttons until contains have loaded -->
  <div layout layout-align="space-between end">
    <md-button class="material-icons md-24"
               ng-hide="vm.commits.length==0" ng-show="vm.commits.length==1"
               ng-disabled="vm.currentCommit==0"
               ng-click="vm.currentCommit = vm.currentCommit-1">chevron_left
    </md-button>
    <md-button class="material-icons md-24"
               ng-hide="vm.commits.length==0" ng-show="vm.commits.length==1"
               ng-disabled="vm.currentCommit==vm.commits.length-1"
               ng-click="vm.currentCommit=vm.currentCommit+1">chevron_right
    </md-button>
  </div>
</div>
